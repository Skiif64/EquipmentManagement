@if (IsVisible)
{
    <div class="modal showing"
         style="display: block"
         id="modal"
         tabindex="-1"
         role="dialog"
         aria-labelledby="modalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered"
             role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"
                        id="modalLabel">
                        @Title
                    </h5>
                </div>
                <div class="modal-body">
                   @ChildContent
                </div>
                <div class="modal-footer">
                    <button type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        @onclick="CancelInvoke">
                        Отмена
                    </button>
                    <button type="button"
                            class="btn btn-danger"
                        @onclick="SubmitInvoke">
                        Продолжить
                    </button>
                </div>
            </div>
        </div>
    </div>
}

@code {
    [Parameter]
    public bool IsVisible { get; set; } = false;
    [Parameter]
    public string? Title { get; set; }
    [Parameter]
    public RenderFragment? ChildContent { get; set; }
    [Parameter]
    public Func<Task>? OnSubmitClick { get; set; }
    [Parameter]
    public Action? OnCancelClick { get; set; }

    private void CancelInvoke()
    => OnCancelClick?.Invoke();
    private Task SubmitInvoke()
    => OnSubmitClick?.Invoke()
    ?? Task.CompletedTask;

    public void Show()
    {
        IsVisible = true;
        StateHasChanged();
    }

    public void Hide()
    {
        IsVisible = false;
        StateHasChanged();
    }
}
